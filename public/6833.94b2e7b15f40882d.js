(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6833,1764,7379,7276],{6833:(G,P,h)=>{"use strict";h.r(P),h.d(P,{CultivosPageModule:()=>w});var L=h(6895),F=h(4719),f=h(1558),Z=h(2507),M=h(5861),S=h(9337),U=h(1443),C=h(1764),i=h(6353),O=h(8555),Y=h(5970),_=h(1476),W=h(9498);function B(l,D){if(1&l){const m=i.EpF();i.TgZ(0,"ion-item-sliding",9)(1,"ion-item"),i._UZ(2,"ion-icon",10),i.TgZ(3,"ion-label")(4,"h1"),i._uU(5),i.qZA(),i.TgZ(6,"h3"),i._uU(7),i.qZA(),i.TgZ(8,"h6"),i._uU(9),i.qZA(),i.TgZ(10,"small"),i._uU(11),i.qZA()(),i.TgZ(12,"ion-button",11),i.NdJ("click",function(){const p=i.CHM(m).$implicit,T=i.oxw();return i.KtG(T.obtenerOpciones(p))}),i._uU(13,"Ver"),i.qZA()(),i.TgZ(14,"ion-item-options")(15,"ion-item-option",4),i.NdJ("click",function(){const p=i.CHM(m).$implicit,T=i.oxw();return i.KtG(T.editarCultivo(p))}),i._UZ(16,"ion-icon",12),i.qZA(),i.TgZ(17,"ion-item-option",13),i.NdJ("click",function(){const p=i.CHM(m).$implicit,T=i.oxw();return i.KtG(T.confirmarEliminar(p.id))}),i._UZ(18,"ion-icon",14),i.qZA()()()}if(2&l){const m=D.$implicit,d=i.oxw();i.xp6(5),i.Oqu(m.semilla.nombre),i.xp6(2),i.Oqu(m.semilla.banco),i.xp6(2),i.hij("cantidad: ",m.semilla.unidad,""),i.xp6(2),i.Oqu(d.formatearFecha(m.fecha))}}const N=[{path:"",component:(()=>{class l{constructor(m,d,c,p,T,a,n){var t=this;this.loaderService=m,this.alertService=d,this.router=c,this.cultivoService=p,this.Navparams=T,this.actRoute=a,this.actionSheetController=n,this.cultivos=[],this.inicializar=(0,M.Z)(function*(){t.id=t.actRoute.snapshot.paramMap.get("id"),yield t.obtenerCultivos()}),this.obtenerCultivos=(0,M.Z)(function*(){try{yield t.loaderService.simpleLoader("cargando"),t.cultivos=yield t.cultivoService.cultivosObtener(),yield t.loaderService.dismissLoader()}catch(r){yield t.loaderService.dismissLoader(),console.log("obtenerCultivos error",r);const e=new S.b;e.header="Error al obtener Cultivos",e.message="Se ha producido un error, favor intentar m\xe1s tarde",e.buttons=["OK"],yield t.alertService.simpleAlert(e)}}),this.editarCultivo=r=>{this.Navparams.setData(r),this.router.navigateByUrl(`/cultivo-editar/${r.id}`)},this.confirmarEliminar=function(){var r=(0,M.Z)(function*(e){const o=new S.b;var s;o.header="Alerta!",o.message="favor confirmar eliminaci\xf3n de cultivo",o.buttons=[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:(s=(0,M.Z)(function*(){yield t.eliminarCultivo(e)}),function(){return s.apply(this,arguments)})}],yield t.alertService.simpleAlert(o)});return function(e){return r.apply(this,arguments)}}(),this.eliminarCultivo=function(){var r=(0,M.Z)(function*(e){const o=new U.d;o.id=e;try{yield t.loaderService.simpleLoader("cargando"),yield t.cultivoService.cultivoEliminarPorId(o),yield t.loaderService.dismissLoader(),yield t.inicializar()}catch(s){console.log("eliminarCultivo error",s),t.loaderService.dismissLoader();const u=new S.b;u.header="Error al eliminar cultivo",u.message="Se ha producido un error, favor intentar m\xe1s tarde",u.buttons=["OK"],t.alertService.simpleAlert(u)}});return function(e){return r.apply(this,arguments)}}(),this.loadMore=r=>{setTimeout(()=>{r.target.complete(),this.inicializar(),1e3===this.cultivos.length&&(r.target.disabled=!0)},1e3)},this.obtenerOpciones=function(){var r=(0,M.Z)(function*(e){const o=[];o.push({text:"ver seguimientos",icon:"bookmarks-outline",handler:()=>{t.router.navigateByUrl(`/seguimientos/${e.id}`)}}),o.push({text:"Cancel",role:"cancel",icon:"close-outline"}),yield(yield t.actionSheetController.create({header:"Opciones",buttons:o})).present()});return function(e){return r.apply(this,arguments)}}(),this.formatearFecha=r=>C(r,"YYYY-MM-DD").format("YYYY-MM-DD"),this.agregarCultivo=()=>{this.router.navigateByUrl("/cultivo")}}ionViewWillEnter(){this.inicializar()}}return l.\u0275fac=function(m){return new(m||l)(i.Y36(O.D),i.Y36(Y.c),i.Y36(Z.F0),i.Y36(_.N),i.Y36(W.a),i.Y36(Z.gz),i.Y36(f.BX))},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-cultivos"]],decls:14,vars:1,consts:[[1,"ion-text-center"],["slot","start"],["menu","primerMenu","autoHide","false"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["reorder","true",4,"ngFor","ngForOf"],["position","bottom","threshold","30%",3,"ionInfinite"],["loadingSpinner","crescent","loadingText","Cargando m\xe1s datos..."],["reorder","true"],["name","flower-outline","slot","start"],["fill","outline","slot","end",3,"click"],["slot","icon-only","name","create-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(m,d){1&m&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),i._uU(3,"cultivos"),i.qZA(),i.TgZ(4,"ion-buttons",1),i._UZ(5,"ion-menu-button",2),i.qZA()()(),i.TgZ(6,"ion-content")(7,"ion-fab",3)(8,"ion-fab-button",4),i.NdJ("click",function(){return d.agregarCultivo()}),i._UZ(9,"ion-icon",5),i.qZA()(),i.TgZ(10,"ion-list"),i.YNc(11,B,19,4,"ion-item-sliding",6),i.qZA(),i.TgZ(12,"ion-infinite-scroll",7),i.NdJ("ionInfinite",function(p){return d.loadMore(p)}),i._UZ(13,"ion-infinite-scroll-content",8),i.qZA()()),2&m&&(i.xp6(11),i.Q6J("ngForOf",d.cultivos))},dependencies:[L.sg,f.YG,f.Sm,f.W2,f.IJ,f.W4,f.Gu,f.gu,f.ju,f.MB,f.Ie,f.u8,f.IK,f.td,f.Q$,f.q_,f.fG,f.sr,f.wd]}),l})()},{path:"cultivo",loadChildren:()=>h.e(8592).then(h.bind(h,4133)).then(l=>l.CultivoPageModule)},{path:"cultivo-editar",loadChildren:()=>h.e(8592).then(h.bind(h,8853)).then(l=>l.CultivoEditarPageModule)}];let E=(()=>{class l{}return l.\u0275fac=function(m){return new(m||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[Z.Bz.forChild(N),Z.Bz]}),l})(),w=(()=>{class l{}return l.\u0275fac=function(m){return new(m||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[L.ez,F.u5,f.Pc,E]}),l})()},1764:function(G){G.exports=function(){"use strict";var h=6e4,L=36e5,F="millisecond",f="second",Z="minute",M="hour",S="day",U="week",C="month",i="quarter",O="year",Y="date",_="Invalid Date",W=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,K={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},N=function(a,n,t){var r=String(a);return!r||r.length>=n?a:""+Array(n+1-r.length).join(t)+a},E={s:N,z:function(a){var n=-a.utcOffset(),t=Math.abs(n),r=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+N(r,2,"0")+":"+N(e,2,"0")},m:function a(n,t){if(n.date()<t.date())return-a(t,n);var r=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(r,C),o=t-e<0,s=n.clone().add(r+(o?-1:1),C);return+(-(r+(t-e)/(o?e-s:s-e))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:C,y:O,w:U,d:S,D:Y,h:M,m:Z,s:f,ms:F,Q:i}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return void 0===a}},w="en",l={};l[w]=K;var D=function(a){return a instanceof p},m=function a(n,t,r){var e;if(!n)return w;if("string"==typeof n){var o=n.toLowerCase();l[o]&&(e=o),t&&(l[o]=t,e=o);var s=n.split("-");if(!e&&s.length>1)return a(s[0])}else{var u=n.name;l[u]=n,e=u}return!r&&e&&(w=e),e||!r&&w},d=function(a,n){if(D(a))return a.clone();var t="object"==typeof n?n:{};return t.date=a,t.args=arguments,new p(t)},c=E;c.l=m,c.i=D,c.w=function(a,n){return d(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var p=function(){function a(t){this.$L=m(t.locale,null,!0),this.parse(t)}var n=a.prototype;return n.parse=function(t){this.$d=function(r){var e=r.date,o=r.utc;if(null===e)return new Date(NaN);if(c.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(W);if(s){var u=s[2]-1||0,g=(s[7]||"0").substring(0,3);return o?new Date(Date.UTC(s[1],u,s[3]||1,s[4]||0,s[5]||0,s[6]||0,g)):new Date(s[1],u,s[3]||1,s[4]||0,s[5]||0,s[6]||0,g)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return c},n.isValid=function(){return this.$d.toString()!==_},n.isSame=function(t,r){var e=d(t);return this.startOf(r)<=e&&e<=this.endOf(r)},n.isAfter=function(t,r){return d(t)<this.startOf(r)},n.isBefore=function(t,r){return this.endOf(r)<d(t)},n.$g=function(t,r,e){return c.u(t)?this[r]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,r){var e=this,o=!!c.u(r)||r,s=c.p(t),u=function(H,y){var A=c.w(e.$u?Date.UTC(e.$y,y,H):new Date(e.$y,y,H),e);return o?A:A.endOf(S)},g=function(H,y){return c.w(e.toDate()[H].apply(e.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(y)),e)},v=this.$W,$=this.$M,b=this.$D,x="set"+(this.$u?"UTC":"");switch(s){case O:return o?u(1,0):u(31,11);case C:return o?u(1,$):u(0,$+1);case U:var I=this.$locale().weekStart||0,J=(v<I?v+7:v)-I;return u(o?b-J:b+(6-J),$);case S:case Y:return g(x+"Hours",0);case M:return g(x+"Minutes",1);case Z:return g(x+"Seconds",2);case f:return g(x+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,r){var e,o=c.p(t),s="set"+(this.$u?"UTC":""),u=(e={},e[S]=s+"Date",e[Y]=s+"Date",e[C]=s+"Month",e[O]=s+"FullYear",e[M]=s+"Hours",e[Z]=s+"Minutes",e[f]=s+"Seconds",e[F]=s+"Milliseconds",e)[o],g=o===S?this.$D+(r-this.$W):r;if(o===C||o===O){var v=this.clone().set(Y,1);v.$d[u](g),v.init(),this.$d=v.set(Y,Math.min(this.$D,v.daysInMonth())).$d}else u&&this.$d[u](g);return this.init(),this},n.set=function(t,r){return this.clone().$set(t,r)},n.get=function(t){return this[c.p(t)]()},n.add=function(t,r){var e,o=this;t=Number(t);var s=c.p(r),u=function($){var b=d(o);return c.w(b.date(b.date()+Math.round($*t)),o)};if(s===C)return this.set(C,this.$M+t);if(s===O)return this.set(O,this.$y+t);if(s===S)return u(1);if(s===U)return u(7);var g=(e={},e[Z]=h,e[M]=L,e[f]=1e3,e)[s]||1,v=this.$d.getTime()+t*g;return c.w(v,this)},n.subtract=function(t,r){return this.add(-1*t,r)},n.format=function(t){var r=this,e=this.$locale();if(!this.isValid())return e.invalidDate||_;var o=t||"YYYY-MM-DDTHH:mm:ssZ",s=c.z(this),u=this.$H,g=this.$m,v=this.$M,$=e.weekdays,b=e.months,x=function(y,A,j,z){return y&&(y[A]||y(r,o))||j[A].slice(0,z)},I=function(y){return c.s(u%12||12,y,"0")},J=e.meridiem||function(y,A,j){var z=y<12?"AM":"PM";return j?z.toLowerCase():z},H={YY:String(this.$y).slice(-2),YYYY:this.$y,M:v+1,MM:c.s(v+1,2,"0"),MMM:x(e.monthsShort,v,b,3),MMMM:x(b,v),D:this.$D,DD:c.s(this.$D,2,"0"),d:String(this.$W),dd:x(e.weekdaysMin,this.$W,$,2),ddd:x(e.weekdaysShort,this.$W,$,3),dddd:$[this.$W],H:String(u),HH:c.s(u,2,"0"),h:I(1),hh:I(2),a:J(u,g,!0),A:J(u,g,!1),m:String(g),mm:c.s(g,2,"0"),s:String(this.$s),ss:c.s(this.$s,2,"0"),SSS:c.s(this.$ms,3,"0"),Z:s};return o.replace(B,function(y,A){return A||H[y]||s.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,r,e){var o,s=c.p(r),u=d(t),g=(u.utcOffset()-this.utcOffset())*h,v=this-u,$=c.m(this,u);return $=(o={},o[O]=$/12,o[C]=$,o[i]=$/3,o[U]=(v-g)/6048e5,o[S]=(v-g)/864e5,o[M]=v/L,o[Z]=v/h,o[f]=v/1e3,o)[s]||v,e?$:c.a($)},n.daysInMonth=function(){return this.endOf(C).$D},n.$locale=function(){return l[this.$L]},n.locale=function(t,r){if(!t)return this.$L;var e=this.clone(),o=m(t,r,!0);return o&&(e.$L=o),e},n.clone=function(){return c.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a}(),T=p.prototype;return d.prototype=T,[["$ms",F],["$s",f],["$m",Z],["$H",M],["$W",S],["$M",C],["$y",O],["$D",Y]].forEach(function(a){T[a[1]]=function(n){return this.$g(n,a[0],a[1])}}),d.extend=function(a,n){return a.$i||(a(n,p,d),a.$i=!0),d},d.locale=m,d.isDayjs=D,d.unix=function(a){return d(1e3*a)},d.en=l[w],d.Ls=l,d.p={},d}()}}]);