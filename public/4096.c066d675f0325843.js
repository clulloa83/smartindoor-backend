(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4096,1764,7379,7276],{4096:(R,b,d)=>{"use strict";d.r(b),d.d(b,{SeguimientosPageModule:()=>H});var J=d(6895),C=d(4719),h=d(1558),D=d(2507),p=d(5861),y=d(9337),w=d(1443),M=d(2304),I=d(1764),e=d(6353),x=d(9498),z=d(5970),B=d(8555),j=d(725),W=d(3189);function L(c,m){if(1&c){const u=e.EpF();e.TgZ(0,"ion-item-sliding",10)(1,"ion-item"),e._UZ(2,"ion-icon",11),e.TgZ(3,"ion-label")(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"small"),e._uU(7),e.qZA()()(),e.TgZ(8,"ion-item-options")(9,"ion-item-option",4),e.NdJ("click",function(){const a=e.CHM(u).$implicit,n=e.oxw();return e.KtG(n.editarSeguimiento(a))}),e._UZ(10,"ion-icon",12),e.qZA(),e.TgZ(11,"ion-item-option",13),e.NdJ("click",function(){const a=e.CHM(u).$implicit,n=e.oxw();return e.KtG(n.confirmarEliminar(a.id))}),e._UZ(12,"ion-icon",14),e.qZA()()()}if(2&c){const u=m.$implicit,v=e.oxw();e.xp6(5),e.Oqu(u.observacion),e.xp6(2),e.Oqu(v.formatearFecha(u.fecha))}}const P=[{path:"",component:(()=>{class c{constructor(u,v,T,a,n,i){var r=this;this.Navparams=u,this.alertService=v,this.router=T,this.loaderService=a,this.seguimientoService=n,this.actRoute=i,this.cultivo=new w.d,this.seguimientos=[],this.inicializar=(0,p.Z)(function*(){r.id=r.actRoute.snapshot.paramMap.get("id"),yield r.obtenerSeguimientos()}),this.obtenerSeguimientos=(0,p.Z)(function*(){const t=new w.d;t.id=r.id;try{yield r.loaderService.simpleLoader("cargando"),r.seguimientos=yield r.seguimientoService.seguimientosObtener(t),yield r.loaderService.dismissLoader()}catch(s){yield r.loaderService.dismissLoader(),console.log("obtenerSeguimientos error",s);const o=new y.b;o.header="Error al obtener seguimientos",o.message="Se ha producido un error, favor intentar m\xe1s tarde",o.buttons=["OK"],yield r.alertService.simpleAlert(o)}}),this.agregarSeguimiento=()=>{this.router.navigateByUrl(`/seguimiento/${this.id}`)},this.loadMore=t=>{setTimeout(()=>{t.target.complete(),this.inicializar(),1e3===this.seguimientos.length&&(t.target.disabled=!0)},1e3)},this.confirmarEliminar=function(){var t=(0,p.Z)(function*(s){const o=new y.b;var l;o.header="Alerta!",o.message="favor confirmar eliminaci\xf3n de seguimiento",o.buttons=[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:(l=(0,p.Z)(function*(){yield r.eliminarSeguimiento(s)}),function(){return l.apply(this,arguments)})}],yield r.alertService.simpleAlert(o)});return function(s){return t.apply(this,arguments)}}(),this.eliminarSeguimiento=function(){var t=(0,p.Z)(function*(s){const o=new M.h;o.id=s;try{yield r.loaderService.simpleLoader("cargando"),yield r.seguimientoService.seguimientoEliminarPorId(o),yield r.loaderService.dismissLoader(),yield r.inicializar()}catch(l){console.log("eliminarSeguimiento error",l),r.loaderService.dismissLoader();const f=new y.b;f.header="Error al eliminar seguimiento",f.message="Se ha producido un error, favor intentar m\xe1s tarde",f.buttons=["OK"],r.alertService.simpleAlert(f)}});return function(s){return t.apply(this,arguments)}}(),this.editarSeguimiento=function(){var t=(0,p.Z)(function*(s){r.Navparams.setData(s),r.router.navigateByUrl(`/seguimiento-editar/${s.id}`)});return function(s){return t.apply(this,arguments)}}(),this.formatearFecha=t=>I(t,"YYYY-MM-DD").format("DD-MM-YYYY")}ionViewWillEnter(){this.inicializar()}}return c.\u0275fac=function(u){return new(u||c)(e.Y36(x.a),e.Y36(z.c),e.Y36(D.F0),e.Y36(B.D),e.Y36(j.Z),e.Y36(D.gz))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-seguimientos"]],decls:16,vars:5,consts:[[1,"ion-text-center"],["slot","start"],["defaultHref","cultivos","text",""],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["placeholder","Buscar...","animated","","type","text","inputmode","text","debounce","500",3,"ngModel","ngModelChange"],["reorder","true",4,"ngFor","ngForOf"],["position","bottom","threshold","30%",3,"ionInfinite"],["loadingSpinner","crescent","loadingText","Cargando m\xe1s datos..."],["reorder","true"],["name","bookmark-outline","slot","start"],["slot","icon-only","name","create-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(u,v){1&u&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),e._uU(3,"Seguimientos"),e.qZA(),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button",2),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-fab",3)(8,"ion-fab-button",4),e.NdJ("click",function(){return v.agregarSeguimiento()}),e._UZ(9,"ion-icon",5),e.qZA()(),e.TgZ(10,"ion-searchbar",6),e.NdJ("ngModelChange",function(a){return v.filterTerm=a}),e.qZA(),e.TgZ(11,"ion-list"),e.YNc(12,L,13,2,"ion-item-sliding",7),e.ALo(13,"filter"),e.qZA(),e.TgZ(14,"ion-infinite-scroll",8),e.NdJ("ionInfinite",function(a){return v.loadMore(a)}),e._UZ(15,"ion-infinite-scroll-content",9),e.qZA()()),2&u&&(e.xp6(10),e.Q6J("ngModel",v.filterTerm),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,2,v.seguimientos,v.filterTerm)))},dependencies:[J.sg,C.JJ,C.On,h.oU,h.Sm,h.W2,h.IJ,h.W4,h.Gu,h.gu,h.ju,h.MB,h.Ie,h.u8,h.IK,h.td,h.Q$,h.q_,h.VI,h.sr,h.wd,h.j9,h.cs,W.Z]}),c})()},{path:"seguimiento",loadChildren:()=>d.e(8736).then(d.bind(d,8736)).then(c=>c.SeguimientoPageModule)},{path:"seguimiento-editar",loadChildren:()=>d.e(8592).then(d.bind(d,7203)).then(c=>c.SeguimientoEditarPageModule)}];let Z=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[D.Bz.forChild(P),D.Bz]}),c})(),H=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[J.ez,C.u5,h.Pc,Z,W.h]}),c})()},1764:function(R){R.exports=function(){"use strict";var d=6e4,J=36e5,C="millisecond",h="second",D="minute",p="hour",y="day",w="week",M="month",I="quarter",e="year",x="date",z="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,W={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},L=function(a,n,i){var r=String(a);return!r||r.length>=n?a:""+Array(n+1-r.length).join(i)+a},V={s:L,z:function(a){var n=-a.utcOffset(),i=Math.abs(n),r=Math.floor(i/60),t=i%60;return(n<=0?"+":"-")+L(r,2,"0")+":"+L(t,2,"0")},m:function a(n,i){if(n.date()<i.date())return-a(i,n);var r=12*(i.year()-n.year())+(i.month()-n.month()),t=n.clone().add(r,M),s=i-t<0,o=n.clone().add(r+(s?-1:1),M);return+(-(r+(i-t)/(s?t-o:o-t))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M,y:e,w,d:y,D:x,h:p,m:D,s:h,ms:C,Q:I}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return void 0===a}},P="en",Z={};Z[P]=W;var H=function(a){return a instanceof v},c=function a(n,i,r){var t;if(!n)return P;if("string"==typeof n){var s=n.toLowerCase();Z[s]&&(t=s),i&&(Z[s]=i,t=s);var o=n.split("-");if(!t&&o.length>1)return a(o[0])}else{var l=n.name;Z[l]=n,t=l}return!r&&t&&(P=t),t||!r&&P},m=function(a,n){if(H(a))return a.clone();var i="object"==typeof n?n:{};return i.date=a,i.args=arguments,new v(i)},u=V;u.l=c,u.i=H,u.w=function(a,n){return m(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var v=function(){function a(i){this.$L=c(i.locale,null,!0),this.parse(i)}var n=a.prototype;return n.parse=function(i){this.$d=function(r){var t=r.date,s=r.utc;if(null===t)return new Date(NaN);if(u.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(B);if(o){var l=o[2]-1||0,f=(o[7]||"0").substring(0,3);return s?new Date(Date.UTC(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,f)):new Date(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,f)}}return new Date(t)}(i),this.$x=i.x||{},this.init()},n.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},n.$utils=function(){return u},n.isValid=function(){return this.$d.toString()!==z},n.isSame=function(i,r){var t=m(i);return this.startOf(r)<=t&&t<=this.endOf(r)},n.isAfter=function(i,r){return m(i)<this.startOf(r)},n.isBefore=function(i,r){return this.endOf(r)<m(i)},n.$g=function(i,r,t){return u.u(i)?this[r]:this.set(t,i)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(i,r){var t=this,s=!!u.u(r)||r,o=u.p(i),l=function(U,S){var A=u.w(t.$u?Date.UTC(t.$y,S,U):new Date(t.$y,S,U),t);return s?A:A.endOf(y)},f=function(U,S){return u.w(t.toDate()[U].apply(t.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(S)),t)},g=this.$W,$=this.$M,Y=this.$D,O="set"+(this.$u?"UTC":"");switch(o){case e:return s?l(1,0):l(31,11);case M:return s?l(1,$):l(0,$+1);case w:var N=this.$locale().weekStart||0,F=(g<N?g+7:g)-N;return l(s?Y-F:Y+(6-F),$);case y:case x:return f(O+"Hours",0);case p:return f(O+"Minutes",1);case D:return f(O+"Seconds",2);case h:return f(O+"Milliseconds",3);default:return this.clone()}},n.endOf=function(i){return this.startOf(i,!1)},n.$set=function(i,r){var t,s=u.p(i),o="set"+(this.$u?"UTC":""),l=(t={},t[y]=o+"Date",t[x]=o+"Date",t[M]=o+"Month",t[e]=o+"FullYear",t[p]=o+"Hours",t[D]=o+"Minutes",t[h]=o+"Seconds",t[C]=o+"Milliseconds",t)[s],f=s===y?this.$D+(r-this.$W):r;if(s===M||s===e){var g=this.clone().set(x,1);g.$d[l](f),g.init(),this.$d=g.set(x,Math.min(this.$D,g.daysInMonth())).$d}else l&&this.$d[l](f);return this.init(),this},n.set=function(i,r){return this.clone().$set(i,r)},n.get=function(i){return this[u.p(i)]()},n.add=function(i,r){var t,s=this;i=Number(i);var o=u.p(r),l=function($){var Y=m(s);return u.w(Y.date(Y.date()+Math.round($*i)),s)};if(o===M)return this.set(M,this.$M+i);if(o===e)return this.set(e,this.$y+i);if(o===y)return l(1);if(o===w)return l(7);var f=(t={},t[D]=d,t[p]=J,t[h]=1e3,t)[o]||1,g=this.$d.getTime()+i*f;return u.w(g,this)},n.subtract=function(i,r){return this.add(-1*i,r)},n.format=function(i){var r=this,t=this.$locale();if(!this.isValid())return t.invalidDate||z;var s=i||"YYYY-MM-DDTHH:mm:ssZ",o=u.z(this),l=this.$H,f=this.$m,g=this.$M,$=t.weekdays,Y=t.months,O=function(S,A,K,E){return S&&(S[A]||S(r,s))||K[A].slice(0,E)},N=function(S){return u.s(l%12||12,S,"0")},F=t.meridiem||function(S,A,K){var E=S<12?"AM":"PM";return K?E.toLowerCase():E},U={YY:String(this.$y).slice(-2),YYYY:this.$y,M:g+1,MM:u.s(g+1,2,"0"),MMM:O(t.monthsShort,g,Y,3),MMMM:O(Y,g),D:this.$D,DD:u.s(this.$D,2,"0"),d:String(this.$W),dd:O(t.weekdaysMin,this.$W,$,2),ddd:O(t.weekdaysShort,this.$W,$,3),dddd:$[this.$W],H:String(l),HH:u.s(l,2,"0"),h:N(1),hh:N(2),a:F(l,f,!0),A:F(l,f,!1),m:String(f),mm:u.s(f,2,"0"),s:String(this.$s),ss:u.s(this.$s,2,"0"),SSS:u.s(this.$ms,3,"0"),Z:o};return s.replace(j,function(S,A){return A||U[S]||o.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(i,r,t){var s,o=u.p(r),l=m(i),f=(l.utcOffset()-this.utcOffset())*d,g=this-l,$=u.m(this,l);return $=(s={},s[e]=$/12,s[M]=$,s[I]=$/3,s[w]=(g-f)/6048e5,s[y]=(g-f)/864e5,s[p]=g/J,s[D]=g/d,s[h]=g/1e3,s)[o]||g,t?$:u.a($)},n.daysInMonth=function(){return this.endOf(M).$D},n.$locale=function(){return Z[this.$L]},n.locale=function(i,r){if(!i)return this.$L;var t=this.clone(),s=c(i,r,!0);return s&&(t.$L=s),t},n.clone=function(){return u.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a}(),T=v.prototype;return m.prototype=T,[["$ms",C],["$s",h],["$m",D],["$H",p],["$W",y],["$M",M],["$y",e],["$D",x]].forEach(function(a){T[a[1]]=function(n){return this.$g(n,a[0],a[1])}}),m.extend=function(a,n){return a.$i||(a(n,v,m),a.$i=!0),m},m.locale=c,m.isDayjs=H,m.unix=function(a){return m(1e3*a)},m.en=Z[P],m.Ls=Z,m.p={},m}()}}]);