"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[558],{558:(x,d,c)=>{c.r(d),c.d(d,{LectorPageModule:()=>M});var g=c(6895),f=c(4719),a=c(1558),u=c(2507),l=c(9105),h=c(591),e=c(6353),m=c(4003);function p(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",9),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.deviceId),e.xp6(1),e.hij(" ",t.label," ")}}function _(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"section",10)(1,"div")(2,"small"),e._uU(3,"Result"),e.qZA(),e.TgZ(4,"strong"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-button",11),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.clearResult())}),e._uU(7,"\xd7"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.qrResultString)}}function P(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Waiting for permissions."),e.qZA(),e.TgZ(3,"blockquote"),e._uU(4," If your device does not has cameras, no permissions will be asked. "),e.qZA(),e.BQk())}function v(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"You denied the camera permission, we can't scan anything without it. \u{1f62a}"),e.qZA(),e.BQk())}function C(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Couldn't check for devices."),e.qZA(),e.TgZ(3,"blockquote"),e._uU(4," This may be caused by some security error. "),e.qZA(),e.BQk())}function b(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"No devices were found."),e.qZA(),e.TgZ(3,"blockquote"),e._uU(4," I believe your device has no media devices attached to. "),e.qZA(),e.BQk())}const T=[{path:"",component:(()=>{class n{constructor(){this.allowedFormats=[l.BarcodeFormat.QR_CODE,l.BarcodeFormat.EAN_13,l.BarcodeFormat.CODE_128,l.BarcodeFormat.DATA_MATRIX],this.currentDevice=null,this.formatsEnabled=[l.BarcodeFormat.CODE_128,l.BarcodeFormat.DATA_MATRIX,l.BarcodeFormat.EAN_13,l.BarcodeFormat.QR_CODE],this.torchEnabled=!1,this.torchAvailable$=new h.X(!1),this.tryHarder=!1}ngOnInit(){}clearResult(){this.qrResultString=null}onCamerasFound(t){this.availableDevices=t,this.hasDevices=Boolean(t&&t.length)}onCodeResult(t){this.qrResultString=t}onDeviceSelectChange(t){console.log("selected",t);const o=this.availableDevices.find(s=>s.deviceId===t);this.currentDevice=o||null}openFormatsDialog(){}onHasPermission(t){this.hasPermission=t}openInfoDialog(){}onTorchCompatible(t){this.torchAvailable$.next(t||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lector"]],decls:21,vars:11,consts:[[1,"ion-text-center"],["slot","start"],["menu","primerMenu","autoHide","false"],[1,"scanner-shell",3,"hidden"],["interface","popover","placeholder","Select One",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"torch","device","formats","tryHarder","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],["class","results",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"results"],["expand","full",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),e._uU(3,"Lector QR"),e.qZA(),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-menu-button",2),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",3)(8,"header")(9,"ion-list")(10,"ion-item")(11,"ion-label"),e._uU(12,"Camaras"),e.qZA(),e.TgZ(13,"ion-select",4),e.NdJ("ionChange",function(i){return o.onDeviceSelectChange(i.target.value)}),e.YNc(14,p,2,2,"ion-select-option",5),e.qZA()()()(),e.TgZ(15,"zxing-scanner",6),e.NdJ("deviceChange",function(i){return o.currentDevice=i})("scanSuccess",function(i){return o.onCodeResult(i)})("permissionResponse",function(i){return o.onHasPermission(i)})("camerasFound",function(i){return o.onCamerasFound(i)})("torchCompatible",function(i){return o.onTorchCompatible(i)}),e.qZA(),e.YNc(16,_,8,1,"section",7),e.qZA(),e.YNc(17,P,5,0,"ng-container",8),e.YNc(18,v,3,0,"ng-container",8),e.YNc(19,C,5,0,"ng-container",8),e.YNc(20,b,5,0,"ng-container",8),e.qZA()),2&t&&(e.xp6(7),e.Q6J("hidden",!o.hasDevices),e.xp6(7),e.Q6J("ngForOf",o.availableDevices),e.xp6(1),e.Q6J("torch",o.torchEnabled)("device",o.currentDevice)("formats",o.formatsEnabled)("tryHarder",o.tryHarder),e.xp6(1),e.Q6J("ngIf",o.qrResultString),e.xp6(1),e.Q6J("ngIf",void 0===o.hasPermission),e.xp6(1),e.Q6J("ngIf",!1===o.hasPermission),e.xp6(1),e.Q6J("ngIf",void 0===o.hasDevices),e.xp6(1),e.Q6J("ngIf",!1===o.hasDevices))},dependencies:[g.sg,g.O5,a.YG,a.Sm,a.W2,a.Gu,a.Ie,a.Q$,a.q_,a.fG,a.t9,a.n0,a.sr,a.wd,a.QI,m.S],styles:["zxing-scanner[_ngcontent-%COMP%]{max-width:100%}header[_ngcontent-%COMP%]{position:sticky;top:0;padding:10px;background:#333;display:flex}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}header[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;font-weight:700}header[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding:0}header[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper .mat-form-field-flex{padding-top:0}header[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-underline{bottom:0}header[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:10px;line-height:2;background:#474747;color:#fff}.results[_ngcontent-%COMP%]{position:sticky;bottom:0;padding:15px;background:#02c3c3;color:#fff;display:flex;align-items:center;justify-content:space-between}.results[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:bolder;display:block;font-size:60%;margin:-.6em 0 0}.results[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;line-height:1;font-weight:bolder;font-size:120%;float:right;color:#fff;margin:-8px -8px -8px 8px}h2[_ngcontent-%COMP%]{padding:0 16px}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(T),u.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,f.u5,a.Pc,Z,m.f]}),n})()}}]);